{
    
        "AdminCheck": {
          "description": "PowerShell script to check if the current user has administrator privileges.",
          "requiresAdmin": false,
          "steps": [
            {
              "step": "Check Admin Rights",
              "command": "([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] 'Administrator')",
              "successMessage": "Administrator privileges detected.",
              "errorMessage": "Administrator privileges not detected.",
              "outputVariable": "isAdmin"
            },
            {
              "step": "Display Result",
              "command": "if ($isAdmin) { Write-Host 'User has administrator privileges.' } else { Write-Host 'User does not have administrator privileges.' }",
              "condition": "$isAdmin -ne $null"
            }
          ],
          "errorHandling": {
            "type": "try-catch",
            "catch": "Write-Error 'An error occurred during admin check: $_'"
          }
        },
      
   
    "DownloadFile": {
        "description": "PowerShell script to download a file from a URL.",
        "requiresAdmin": false,
        "steps": [
            {
                "step": "Download File",
                "command": "Invoke-WebRequest",
                "parameters": {
                    "uri": "$url",
                    "outFile": "$localPath"
                },
                "variables": {
                    "url": "YOUR_DOWNLOAD_URL",
                    "localPath": "$env:TEMP\\\\downloaded_file.exe"
                },
                "successMessage": "File downloaded successfully.",
                "errorMessage": "Error during file download."
            }
        ],
        "errorHandling": {
            "type": "try-catch-finally",
            "catch": "Write-Error 'An error occurred: $_'",
            "finally": "Remove-Item $localPath -Force "
        }
    },
    "InstallFile": {
        "description": "PowerShell script to install a downloaded file.",
        "requiresAdmin": true,
        "steps": [
            {
                "step": "Install File",
                "condition": "$installCommand",
                "command": "Start-Process",
                "parameters": {
                    "filePath": "$localPath",
                    "argumentList": "$installCommand",
                    "wait": true,
                    "verb": "RunAs"
                },
                "variables": {
                    "installCommand": "$localPath /silent"
                },
                "successMessage": "Installation successful.",
                "errorMessage": "Installation failed.",
                "exitCodeCheck": true
            }
        ],
        "errorHandling": {
            "type": "try-catch-finally",
            "catch": "Write-Error 'An error occurred: $_'",
            "finally": "Remove-Item $localPath -Force "
        }
    }
}